# Проектная работа "Веб-ларек"

Стек: HTML, SCSS, TS, Webpack

Структура проекта:
- src/ — исходные файлы проекта
- src/components/ — папка с JS компонентами
- src/components/base/ — папка с базовым кодом

Важные файлы:
- src/pages/index.html — HTML-файл главной страницы
- src/types/index.ts — файл с типами
- src/index.ts — точка входа приложения
- src/scss/styles.scss — корневой файл стилей
- src/utils/constants.ts — файл с константами
- src/utils/utils.ts — файл с утилитами

## Установка и запуск
Для установки и запуска проекта необходимо выполнить команды

```
npm install
npm run start
```

или

```
yarn
yarn start
```
## Сборка

```
npm run build
```

или

```
yarn build
```

Проектная работа: WEB-ларёк, представляет собой интернет-магазин, в котором реализованы следующие функции:
1.Просмотр каталога товаров
2.Добавление и удаление товаров из корзины
3.Оформление заказа
4.Валидация форм заказа
5.Взаимодействие с сервером через API


В проекте реализован архитектурный паттерн MVP (Model-View-Presenter) с элементами EventEmitter для связи между компонентами.

Основные компоненты:
Модели (Model):
AppState - центральное хранилище состояния приложения
StoreAPI - класс для работы с API магазина

Представления (View):
Page - корневой компонент страницы
Card - компонент карточки товара
Basket - компонент корзины
Order - компонент формы заказа
Modal - модальное окно
Success - компонент успешного оформления заказа

Связующие компоненты:
EventEmitter - обеспечивает взаимодействие компонентов
Component - базовый класс для всех компонентов

Подробное описание компонентов
1. Базовые классы
Component<T>
Базовый класс для всех компонентов приложения. Содержит общие методы для работы с DOM:
toggleClass - переключение классов
setText - установка текстового содержимого
setDisabled - управление состоянием disabled
setHidden/setVisible - управление видимостью
setImage - установка изображения
render - базовый метод рендеринга

Model<T>
Базовый класс для моделей данных. Обеспечивает:
Хранение состояния
Уведомление об изменениях через EventEmitter

EventEmitter
Класс для управления событиями (шаблон "Наблюдатель"). Позволяет:
Подписываться на события (on)
Отписываться от событий (off)
Генерировать события (emit)
Обрабатывать все события (onAll)

2. Основные компоненты приложения
AppState
Центральное хранилище состояния приложения. Содержит:
Каталог товаров
Корзину
Данные заказа
Методы валидации форм
Методы для работы с корзиной

StoreAPI
Класс для работы с API магазина. Реализует:
Получение списка товаров
Получение информации о конкретном товаре
Оформление заказа

Page
Корневой компонент страницы. Управляет:
Отображением каталога товаров
Счетчиком товаров в корзине
Блокировкой страницы при открытии модальных окон

Card
Компонент карточки товара. Используется для:
Отображения товара в каталоге
Отображения детальной информации о товаре
Отображения товара в корзине

Basket
Компонент корзины. Реализует:
Отображение списка товаров
Отображение общей суммы
Управление кнопкой оформления заказа

Order и Form
Компоненты форм заказа. Обеспечивают:
Валидацию полей
Управление состоянием кнопок
Обработку пользовательского ввода

Modal
Компонент модального окна. Реализует:
Открытие/закрытие модального окна
Управление содержимым модального окна

3. Вспомогательные утилиты
utils.ts
Содержит вспомогательные функции:
ensureElement - безопасное получение элемента DOM
cloneTemplate - клонирование шаблонов
createElement - создание DOM-элементов
Работа с данными элементов (dataset)

Взаимодействие компонентов
Инициализация приложения:
Создается экземпляр EventEmitter
Создаются экземпляры основных компонентов
Загружаются данные с сервера

Работа с каталогом товаров:
При загрузке данных вызывается appData.setCatalog()
Генерируется событие items:changed
Компонент Page обновляет каталог

Работа с корзиной:
Добавление товара: событие basket:add → appData.addToBasket()
Удаление товара: событие basket:remove → обновление состояния
Открытие корзины: событие basket:open → рендеринг содержимого корзины

Оформление заказа:
Заполнение формы → валидация → отправка на сервер
При успешном оформлении показывается компонент Success

Основные типы данных:
IProduct - описание товара
IOrder - данные заказа
IOrderForm - форма заказа
IOrderResult - результат оформления заказа
FormErrors - ошибки валидации форм